<head>
    <title>picDinner!</title>
</head>

<body>
    {{> head}}
    <div id="container">
        {{> pairs}}
    </div>

    <!-- Modal -->
    <div id="add-pair" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="Add a pair" aria-hidden="true">
        {{> addPair}}
    </div>

    {{> viewPair}}
</body>


<!-- head template -->
<template name="head">
    <div id="head">
        <h1>picDinner!</h1>
        <a id="add" href="#" onclick="return false">+ add</a>
    </div>
</template>

<!-- pairs template -->
<template name="pairs">
    {{#unless pair}}
    <div id="pairs">{{#each pairs}}
        <a href="/{{_id}}" class="pair" data-id="{{_id}}" data-image="{{image}}" data-audio="{{audio}}"><img src="{{image}}"></a>{{/each}}
    </div>
    {{/unless}}
</template>


<!-- addPair template -->
<template name="addPair">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myModalLabel">Pair up an image and audio!</h3>
    </div>
    <form style="margin:0;padding:0">
        <div class="modal-body">
            <div class="row">
                <p class="span5">
                    Link directly to any picture—maybe something from
                    <a href="http://reddit.com/r/gifs" target="_blank">r/gifs</a> or
                    <a href="http://www.quickmeme.com/" target="_blank">quickmeme</a> or
                    <a href="http://imgur.com/">imgur</a>…
                </p>
            </div>
            <input class="span5" type="text" name="image" placeholder="URL for an image">
            <br><br>

            <div class="row">
                <p class="span5">
                    Link to any song on
                    <a href="https://soundcloud.com/" target="_blank">soundcloud</a>
                    or enter nothing and use the default song!
                </p>
            </div>
            <input class="span5" type="text" name="audio" placeholder="URL for a song on soundcloud (optional)">
            <br>
        </div>
        <div class="modal-footer">
            <div class="row"><div class="span5">
                    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
                    <button class="btn btn-primary" type="submit">Add</button>
            </div></div>
        </div>
    </form>
</template>

<!-- viewPair template -->
<template name="viewPair">
    <div id="view-pair"{{#unless pair}} class="hide" aria-hidden="true"{{/unless}}>{{#if pair}}
        <img id="view-image" src="{{pair.image}}" data-audio="{{pair.audio}}"{{#unless isSoundCloud pair.audio}} class="full"{{/unless}}>
        {{#if isSoundCloud pair.audio}}
        <iframe width="100%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url={{pair.audio}}&amp;auto_play=true"></iframe>
        {{/if}}
    {{/if}}</div>
</template>
